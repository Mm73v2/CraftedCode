<main class="projects pt-5">
  <div class="container">
    <div
      *ngIf="loading"
      class="d-flex justify-content-center align-items-center vh-100"
    >
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>

    <div *ngIf="!loading">
      <h2 class="text-white fw-bold fs-4 mb-5 text-center">
        <span class="text-primary">My</span> Projects
      </h2>
      <div class="row">
        <div
          *ngFor="let project of paginatedProjects"
          class="col-12 col-md-6 col-lg-4"
        >
          <app-project-item [project]="project" />
        </div>

        <nav class="mb-3">
          <ul class="pagination justify-content-center">
            <li class="page-item" [class.disabled]="currentPage === 1">
              <button
                class="page-link text-bg-dark"
                (click)="changePage(currentPage - 1)"
                aria-label="Previous"
              >
                <span aria-hidden="true">Previous</span>
              </button>
            </li>

            <li
              class="page-item"
              *ngFor="let page of [].constructor(totalPages); let i = index"
              [class.active]="currentPage === i + 1"
            >
              <button class="page-link bg-dark" (click)="changePage(i + 1)">
                {{ i + 1 }}
              </button>
            </li>

            <li class="page-item" [class.disabled]="currentPage === totalPages">
              <button
                class="page-link text-bg-dark"
                (click)="changePage(currentPage + 1)"
                aria-label="Next"
              >
                <span aria-hidden="true">Next</span>
              </button>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</main>
